# Game Notes - The Farmer Was Replaced
# 작물별 규칙 및 최적화 정보 정리

"""
=== SUNFLOWER (해바라기) ===
- 태양의 파워를 모음
- 수확 시 Items.Power 획득
- 성장 시간: 5.6초 ~ 8.4초
- 재배 조건: Soil
- 식물 비용: Carrot 1개

꽃잎 & 보너스 시스템:
- 꽃잎 범위: 최소 7개 ~ 최대 15개
- measure() 함수로 꽃잎 수 확인 가능 (성장 전에도 측정 가능)
- 여러 해바라기가 같은 꽃잎 수를 가질 수 있음

8배 보너스 조건:
1. 농장에 해바라기가 10개 이상
2. 꽃잎이 가장 많은 해바라기를 수확
- 주의: 꽃잎이 더 많은 해바라기가 있을 때 수확하면 보너스 없음!
- 다음 수확도 영향받음 (연속 보너스 끊김)

파워 소모:
- 파워가 있으면 드론이 2배 속도로 이동
- 30번의 행동(이동, 수확, 심기 등)마다 1 파워 소모
- 코드 실행도 파워 소모하지만 행동보다 적음
- 속도 업그레이드로 빨라지는 것 = 파워로도 빨라짐

최적화 팁:
- 전체 필드에서 max(measure())로 최대 꽃잎 수(최대 15)를 찾아서
- 해당 꽃잎 수를 가진 해바라기만 수확하면 8배 보너스


=== CACTUS (선인장) ===
- 10가지 크기 (0-9), measure()로 측정
- 성장 시간: 1초
- 재배 조건: Soil
- 수확량 = (수확된 선인장 수)^2

정렬 조건 (연쇄 수확):
- North/East 방향 이웃: 크기가 같거나 커야 함
- South/West 방향 이웃: 크기가 같거나 작아야 함
- 모든 이웃이 다 자랐고 정렬되어야 연쇄 수확
- 정렬 안 된 선인장은 갈색, 정렬되면 녹색

정렬 예시 (전체 연쇄 수확 가능):
3 4 5    1 2 3    1 5 9
2 3 4    1 2 3    1 3 8
1 2 3    1 2 3    1 3 4

swap(direction)으로 이웃 선인장과 위치 교환 가능


=== PUMPKIN (호박) ===
- 성장 시간: 0.2초 ~ 3.8초
- 재배 조건: Soil
- 식물 비용: Carrot 16개
- 약 20% 확률로 죽은 호박(Dead_Pumpkin)이 됨
- can_harvest()는 죽은 호박에 False 반환
- 새 식물 심으면 죽은 호박 자동 제거 (수확 불필요)

메가 호박 시스템:
- 사각형 안의 모든 호박이 다 자라면 합쳐져서 메가 호박 형성
- 죽은 호박이 있으면 합쳐지지 않음 → 재심기 필요

수확량 (nxn 크기):
- 1x1: 1*1*1 = 1
- 2x2: 2*2*2 = 8
- 3x3: 3*3*3 = 27
- 4x4: 4*4*4 = 64
- 5x5: 5*5*5 = 125
- 6x6+: n*n*6 (최대 배율)

최적화: 최소 6x6 크기로 키워야 최대 효율


=== TREE (나무) ===
- 덤불보다 더 많은 나무 드랍
- 인접한 나무가 있으면 성장 시간 증가
- 성장 시간: 7초
- 재배 조건: Grassland 또는 Soil
- 최적화: 체스판 패턴으로 심기 (나무끼리 인접 방지)


=== CARROT (당근) ===
- 성장 시간: 6초
- 재배 조건: Soil


=== BUSH (덤불) ===
- Items.Wood 드랍
- 성장 시간: 4초
- 재배 조건: Grassland 또는 Soil


=== GRASS (잔디) ===
- Grassland에서 자동 성장
- 수확 시 Items.Hay 획득
- 성장 시간: 0.5초


=== WATERING (물주기) ===
- get_water(): 현재 땅의 물 수위 (0~1)
- use_item(Items.Water): 물 한 탱크 사용

성장 속도 배율:
- 물 수위 0 → 1배 속도
- 물 수위 1 → 5배 속도 (선형 보간)

물 공급:
- 10초마다 물 탱크 1개 자동 획득
- 탱크 1개 = 0.25 물
- Unlocks.Watering 업그레이드 → 2배 획득

물 증발:
- 초당 현재 물의 약 1% 손실 (무작위 변동 있음)
- 높은 수위 유지 = 더 많은 물 소비

최적화 팁:
- 물 수위 0.75~1 유지가 효율적 (5배 속도 근접)
- 너무 자주 물주면 물 낭비


=== FERTILIZER (비료) ===
- use_item(Items.Fertilizer): 성장 시간 2초 단축
- 10초마다 비료 1개 자동 획득
- 업그레이드 시 2배 획득

부작용 - 감염:
- 비료로 자란 식물은 감염됨
- 감염된 식물 수확 시 수확량 50%가 Items.Weird_Substance로 변환

치료:
- use_item(Items.Weird_Substance): 감염 상태 토글
- 감염 식물에 사용 → 치료
- 건강한 식물에 사용 → 감염
- 인접 식물에도 영향 (토글)

최적화 전략:
- 비료로 즉시 성장 → 수확 전 Weird_Substance로 치료 → 100% 수확
- 시간 단축 + 수확량 손실 없음
"""
